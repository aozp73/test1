<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="shop.mtcoding.test1.model.BoardContentRepository">

    <select id="findByUserId" resultType="shop.mtcoding.test1.dto.BoardDetailDto">
        select bc.id, bc.user_id, bc.content, b.title, b.created_at from 
        (SELECT * FROM BOARDCONTENT_TB where id = #{id}) bc

        inner join user_tb u
        on bc.user_id = u.id

        inner join board_tb b
        on bc.board_id = b.id
    </select>

    <update id="updateById">
        update boardcontent_tb 
           set content = #{content}
        where id = #{id}
    </update>

</mapper>
